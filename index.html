<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Rock Paper Scissors</title>
</head>
<body>
  <script>
    let playerScore = 0
    let computerScore = 0;

    // Determines the computers selection by picking a random number 1 - 3
    function computerPlay() {
      let rand = Math.floor(Math.random() * 3) + 1;
      let choice = "";

      switch(rand) {
        case 1:
          choice = "rock";
          break;
        case 2:
          choice = "paper";
          break;
        case 3:
          choice = "scissors";
          break;
      }

      return choice;
    }

    // Compares the player's choice to the computer's and increases the score
    function playRound(playerSelection, computerSelection) {
      const winningMessage = `Player wins! ${playerSelection} beats ${computerSelection}`;
      const losingMessage = `Computer wins! ${computerSelection} beats ${playerSelection}`;
      const tieMessage = `${playerSelection} vs ${computerSelection}. It's a tie!`

      switch(playerSelection.toLowerCase()) {
        case "rock":
          switch(computerSelection) {
            case "rock":
              return tieMessage;
              break;
            case "paper":
              computerScore++;
              return losingMessage;
              break;
            case "scissors":
              playerScore++;
              return winningMessage;
              break;
          }
          break;
        case "paper":
          switch(computerSelection) {
            case "rock":
              playerScore++;
              return winningMessage;
              break;
            case "paper":
              return tieMessage;
              break;
            case "scissors":
              computerScore++;
              return losingMessage;
              break;
          }
          break;
        case "scissors":
          switch(computerSelection) {
            case "rock":
              computerScore++;
              return losingMessage;
              break;
            case "paper":
              playerScore++;
              return winningMessage;
              break;
            case "scissors":
              return tieMessage;
              break;
          }
      }    
    }
    
    // Uses a loop to play a chosen number of rounds and outputs the winner
    function game(numRounds) {
      let i = 0;
      let playerSelection = "" 
      let computerSelection = "";

      for(i = 0; i < numRounds; i++) {
        // Doesn't check for invalid input but I don't feel like coding that in
        // I'm the only one playing this anyways
        playerSelection = prompt("Rock, Paper, or Scissors?");
        computerSelection = computerPlay();
        console.log(playRound(playerSelection, computerSelection));
        console.log("Current Score: " + playerScore + " : " + computerScore);
      }

      if(playerScore > computerScore) {
        alert("Player Wins!");
      } else if(playerScore < computerScore) {
        alert("Computer Wins!");
      } else {
        alert("It's a tie!");
      }
    }

    game(5);
  </script>
</body>
</html>